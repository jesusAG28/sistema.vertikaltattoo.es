<script setup>
import SectionCard from '@/components/ui/SectionCard.vue';
import { useLayout } from '@/layout/composables/layout';
import { ref } from 'vue';

const { isDarkTheme } = useLayout();

const lastCardMovementsData = ref([
    {
        title: 'Open Ai',
        date: 'May 29th, 2024',
        amount: '-$15',
        currency: 'USD',
        orientation: 'down',
        logo: '/images/openai-logo'
    },
    {
        title: 'Adobe',
        date: 'May 22th, 2024',
        amount: '+$8',
        currency: 'USD',
        orientation: 'up',
        logo: '/images/adobe-logo'
    },
    {
        title: 'Framer',
        date: 'May 16th, 2024',
        amount: '-$19',
        currency: 'USD',
        orientation: 'down',
        logo: '/images/framer-logo'
    },
    {
        title: 'Webflow',
        date: 'May 12th, 2024',
        amount: '-$29',
        currency: 'USD',
        orientation: 'down',
        logo: '/images/webflow-logo'
    },
    {
        title: 'Spotify',
        date: 'May 7th, 2024',
        amount: '-$24',
        currency: 'USD',
        orientation: 'down',
        logo: '/images/spotify-logo'
    }
]);
</script>

<template>
    <SectionCard class="flex flex-col justify-between gap-4">
        <template #title>Last Card Movements</template>
        <template #action>
            <Button label="View All" rounded text severity="contrast" class="!py-0.5 !px-1.5 !text-sm" />
        </template>
        <div class="flex-1 flex flex-col justify-between">
            <template v-for="(item, index) of lastCardMovementsData" :key="index">
                <div class="flex items-center gap-4 py-4">
                    <div class="w-12 h-12 bg-surface-0 dark:bg-white/4 border border-surface-200 dark:border-white/8 rounded-2xl flex items-center justify-center">
                        <img :src="item.logo + (isDarkTheme ? '-dark' : '') + '.svg'" alt="Logo" />
                    </div>
                    <div class="flex-1">
                        <h5 class="font-medium text-surface-950 dark:text-surface-0">{{ item.title }}</h5>
                        <p class="text-sm text-surface-500 dark:text-white/64 mt-1">{{ item.date }}</p>
                    </div>
                    <div class="flex-1 inline-flex items-center justify-end text-right text-lg font-medium text-surface-500 dark:text-white/72">
                        <span :class="{ 'text-red-500': item.orientation === 'down', 'text-emerald-500': item.orientation === 'up' }">{{ item.amount }}</span
                        >&nbsp;
                        {{ item.currency }}
                    </div>
                </div>
                <div v-if="index < lastCardMovementsData.length - 1" class="h-px w-full bg-[var(--surface-border)] dark:bg-white/8" />
            </template>
        </div>
    </SectionCard>
</template>
